let Router,RegisterValidations,AuthenticateValidations,ResetPassword,Validator,userAuth;_7a0‍.x([["default",()=>_7a0‍.o]]);_7a0‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_7a0‍.w("../../Infrastructure/Validators/User/User.Validators",[["RegisterValidations",["RegisterValidations"],function(v){RegisterValidations=v}],["AuthenticateValidations",["AuthenticateValidations"],function(v){AuthenticateValidations=v}],["ResetPassword",["ResetPassword"],function(v){ResetPassword=v}]]);_7a0‍.w("../../Infrastructure/Middlewares/Validator.Middleware",[["default",["Validator"],function(v){Validator=v}]]);_7a0‍.w("../../Infrastructure/Middlewares/auth-guard.middleware",[["userAuth",["userAuth"],function(v){userAuth=v}]]);


const UserController = require('../Controllers/User/User.Controller');


const router = Router();

//#region Registeration && Verify Account && Login && Logout

/**
 * @description To Create new User Account
 * @access Public
 * @api /users/api/register
 * @type Post 
 */
router.post('/api/register',RegisterValidations,Validator,UserController.Register);

/**
 * @description To Verify new User Account via email
 * @access Public <only Via email>
 * @api /users/verify-now/verificationCode
 * @type Get
 */
router.get('/verify-now/:verificationCode',UserController.VerifyAccount);

/**
 * @description To Authenticate an user and get token
 * @access Public 
 * @api /users/api/authenticate
 * @type Post
 */
router.post('/api/authenticate',AuthenticateValidations,Validator,UserController.Authenticate);

/**
 * @description To get the Authenticated user's Profiles "Private" it needs access token to  access
 * @access Private 
 * @api /users/api/authenticate
 * @type Get
 */
router.get('/api/authenticate',userAuth,UserController.GetAuthenticatedUser);

/**
 * @description to make user logout and remove his token from database
 * @access Private 
 * @api /users/api/logout
 * @type put
 */
router.post('/api/logout',userAuth,UserController.LogOut);

//#endregion

//#region Reset Password

/**
 * @description To initiate the password reset process
 * @access Public
 * @api /users/api/reset-password
 * @type Get
 */
router.put('/api/reset-password',ResetPassword,Validator,UserController.PasswordReSet);

/**
 * @description To render rest password page
 * @access Restricted via Email
 * @api /users/reset-password/:resetPasswordToken
 * @type Get
 */
router.get('/reset-password-now/:resetPasswordToken',UserController.RenderPasswordResetPage);

/**
 * @description to save new password reseted in database
 * @access Restricted via Email
 * @api /users/api/reset-password-now
 * @type Post
 */
router.post('/api/reset-password-now',UserController.SaveNewPasswordResetted);

//#endregion

_7a0‍.d(router);